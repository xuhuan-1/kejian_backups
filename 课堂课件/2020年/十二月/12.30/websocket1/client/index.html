<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Socket</title>
    <script src="https://cdn.bootcss.com/socket.io/2.2.0/socket.io.js"></script>
</head>
<body>
        <textarea name="" id="area" cols="30" rows="10"></textarea>
        <input type="text" class="ipt" value="">
        <button class="btn">发送</button>
    <script>
        //获取元素
        let btn = document.querySelector('.btn'),
        ipt = document.querySelector('.ipt'),
        text_area = document.querySelector('#area');
        console.log(btn,ipt,text_area);
        let socket = io('ws://localhost:8081');
        //建立连接事件
        socket.on('connect',()=>{
            //监听数据传输成功的回调
            socket.on('message',(msg)=>{
                console.log(msg);
            });
            socket.on('disconnect',(e)=>{
                console.log('断开连接');
            })
        })
        //发送给服务端的数据
        btn.onclick=(e)=>{
            let value = ipt.value;
            socket.send(value);
        }
    </script>
</body>
</html>